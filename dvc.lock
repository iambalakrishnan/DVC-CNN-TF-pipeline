schema: '2.0'
stages:
  get_data:
    cmd: python src/stage_01_get_data.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: src/stage_01_get_data.py
      md5: cf827f0f75042b853187f362ae9bfbfb
      size: 1640
    - path: src/utils/common.py
      md5: fcafdd5748b2612a781744eec4f4a940
      size: 1279
    outs:
    - path: data/cat
      md5: dd876bce94e3e8ddd68dd51711a604a7.dir
      size: 52279461
      nfiles: 2501
    - path: data/dog
      md5: 2fe03ed028f2c653c1df60204367c98e.dir
      size: 61605567
      nfiles: 2501
  prepare_base_mode:
    cmd: python src/stage_02_prepare_base_model.py --config=configs/config.yaml --params=params.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: src/stage_02_prepare_base_model.py
      md5: d47dce2b80d0fcd722cb2397d79b7881
      size: 2346
    - path: src/utils/common.py
      md5: fcafdd5748b2612a781744eec4f4a940
      size: 1279
    - path: src/utils/model.py
      md5: 78d0dddf02d6e33bf7320cb6b716f274
      size: 2715
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/base_model.h5
      md5: 7cdfab03f7539cf0f4ac2521153e7aa3
      size: 58920408
    - path: artifacts/base_model/updated_base_model.h5
      md5: 03d147338462319159b5ecb78cc557a0
      size: 59132960
  prepare_callback:
    cmd: python src/stage_03_prepare_callback.py --config=configs/config.yaml
    deps:
    - path: configs/config.yaml
      md5: 438f0098e1c66a2b65c45f667cd13f02
      size: 502
    - path: params.yaml
      md5: b14c9a9b51fdac61074b47ad40b8f136
      size: 192
    - path: src/stage_03_prepare_callback.py
      md5: 0465571e1963247aa63a37f7a53737b9
      size: 1877
    - path: src/utils/callbacks.py
      md5: 5e291488d08f213f850fd58f5d8d2747
      size: 1730
    - path: src/utils/common.py
      md5: fcafdd5748b2612a781744eec4f4a940
      size: 1279
    outs:
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: e367dd6e7b30aab141ef9d2592f41c68
      size: 678
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: c7abe9fb530922a15bd27437707d6ce7
      size: 664
